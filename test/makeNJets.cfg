process Test = {
# output level
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.cerr.threshold = "WARNING"

#
# PoolSource
#
  untracked PSet maxEvents = {untracked int32 input = 1000}
  include "Calibration/CalibTreeMaker/test/EmptyPoolSource.cfi"
  #include "Calibration/CalibTreeMaker/test/files_DESY_CSA07JetMET-Gumbo-B1-PDJetMET_Skims2.cfg"
  #include "Calibration/CalibTreeMaker/test/files_CSA07-Gumbo-B1-PDAllEvents-ReReco-100pb-Skims1-photonjets.cfg"
  #include "Calibration/CalibTreeMaker/test/files_CSA07-Chowder-A4-PDAllEvents-ReReco-100pb-Skims1-photonjets.cfg"
  #include "Calibration/CalibTreeMaker/test/files_CSA07-Stew-B2-PDAllEventsReReco-100pb-Skims1-photonjets.cfg"
  include "Demo/PATJetIDAnalyzer/test/SusyMsugra400_400.cff"


# produce calib input
  include "Calibration/CalibTreeMaker/data/CalibTreeMaker.cff"

#---------------------------------------------------------------
# replacements
#---------------------------------------------------------------

  # calibration tree
  replace calibTreeMaker.OutputFile        = "NJet_test.root"
  replace calibTreeMaker.WriteDiJetTree    = true
  replace calibTreeMaker.WriteTriJetTree   = true
  replace calibTreeMaker.NJet_Jets         = iterativeCone5CaloJets
  replace calibTreeMaker.NJet_MET          = met 

  replace diJetFilter.MaxNJets     = 2
  replace diJetFilter.MaxRefEta    = 1.4
  replace diJetFilter.MaxEta	   = 3.0
  replace diJetFilter.MinJetEMF    = 0.05
  replace diJetFilter.MaxJetEMF    = 0.95
  replace diJetFilter.MinJetPhiSum = 0.1
  replace diJetFilter.MaxLastJetPt = 15.
  replace diJetFilter.MinJetPt = 5.

  replace triJetFilter.MaxNJets     = 3
  replace triJetFilter.MaxRefEta    = 1.4
  replace triJetFilter.MaxEta	    = 3.0
  replace triJetFilter.MinJetEMF    = 0.05
  replace triJetFilter.MaxJetEMF    = 0.95
  replace triJetFilter.MinJetPhiSum = 0.1
  replace triJetFilter.MaxLastJetPt = 15.
  replace triJetFilter.MinJetPt = 10.
  
  endpath p3 = {makeNJetTree}

  schedule = {p3}


}
