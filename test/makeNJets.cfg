process Test = {

    # output level
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    replace MessageLogger.cerr.threshold = "WARNING"

    #
    # PoolSource
    #
    untracked PSet maxEvents = {untracked int32 input = -1}
    include "Calibration/CalibTreeMaker/test/EmptyPoolSource.cfi"
    #include "Calibration/CalibTreeMaker/test/files_DESY_CSA07JetMET-Gumbo-B1-PDJetMET_Skims2.cfg"
    #include "Calibration/CalibTreeMaker/test/files_CSA07-Gumbo-B1-PDAllEvents-ReReco-100pb-Skims1-photonjets.cfg"
    #include "Calibration/CalibTreeMaker/test/files_CSA07-Chowder-A4-PDAllEvents-ReReco-100pb-Skims1-photonjets.cfg"
    #include "Calibration/CalibTreeMaker/test/files_CSA07-Stew-B2-PDAllEventsReReco-100pb-Skims1-photonjets.cfg"
    #include "Calibration/CalibTreeMaker/test/files_CSA08_JetET80_S156_v1.cfg"

    #include "Calibration/CalibTreeMaker/test/files_CSA08_JetET20_STARTUP_V2.cfg"
    #include "Calibration/CalibTreeMaker/test/files_CSA08_JetET30_STARTUP_V2.cfg"
    #include "Calibration/CalibTreeMaker/test/files_CSA08_JetET50_STARTUP_V2.cfg"
    #include "Calibration/CalibTreeMaker/test/files_CSA08_JetET80_STARTUP_V2.cfg"
    #include "Calibration/CalibTreeMaker/test/files_CSA08_JetET110_STARTUP_V2.cfg"
    
    include "Calibration/CalibTreeMaker/test/files_CSA08_JetET20_S156_v1.cfg"
    #include "Calibration/CalibTreeMaker/test/files_CSA08_JetET30_S156_v1.cfg"
    #include "Calibration/CalibTreeMaker/test/files_CSA08_JetET50_S156_v1.cfg"
    #include "Calibration/CalibTreeMaker/test/files_CSA08_JetET80_S156_v1.cfg"
    #include "Calibration/CalibTreeMaker/test/files_CSA08_JetET110_S156_v1.cfg"
    #include "Calibration/CalibTreeMaker/test/files_CSA08_JetET150_S156_v1.cfg"

    #include "Calibration/CalibTreeMaker/test/files_CSA08_GammaJet_S156_v1.cfg"

    #
    # produce calib input
    #
    include "Calibration/CalibTreeMaker/data/CalibTreeMaker.cff"
    
    #
    # CSA08 weight producer
    #
    include "QCDAnalysis/CSA08WeightProducer/data/csa08weightproducer.cfi"
    
    #
    # dump event content
    #
    module dump = EventContentAnalyzer {}

    #---------------------------------------------------------------
    # replacements
    #---------------------------------------------------------------
    
    # calibration tree
    replace calibTreeMaker.OutputFile        = "NJet_ET20_S156_v1_SISCone7.root"
    replace calibTreeMaker.WriteDiJetTree    = true
    replace calibTreeMaker.WriteTriJetTree   = true
    #replace calibTreeMaker.NJet_Jets         = iterativeCone5CaloJets
    replace calibTreeMaker.NJet_Jets         = sisCone7CaloJets
    replace calibTreeMaker.NJet_MET          = met 
    replace calibTreeMaker.NJet_Weight       = WeightProducer:eventWeight
    
    replace diJetFilter.MaxNJets     = 2
    replace diJetFilter.MaxRefEta    = 1.4
    replace diJetFilter.MaxEta	   = 5.0
    replace diJetFilter.MinJetEMF    = 0.05
    replace diJetFilter.MaxJetEMF    = 0.95
    replace diJetFilter.MinJetPhiSum = 0.15
    replace diJetFilter.MaxLastJetPt = 15.
    replace diJetFilter.MinJetPt     = 10.
    
    replace triJetFilter.MaxNJets     = 3
    replace triJetFilter.MaxRefEta    = 1.4
    replace triJetFilter.MaxEta	    = 5.0
    replace triJetFilter.MinJetEMF    = 0.05
    replace triJetFilter.MaxJetEMF    = 0.95
    replace triJetFilter.MinJetPhiSum = 0.25
    replace triJetFilter.MaxLastJetPt = 15.
    replace triJetFilter.MinJetPt     = 10.
    
#    path e = {WeightProducer,dump}
    path e = {WeightProducer,makeNJetTree}

}
